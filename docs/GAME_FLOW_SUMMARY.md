# æ¸¸æˆæµç¨‹æ€»ç»“ (Game Flow Summary)

## éªŒè¯ç»“æœ âœ…

ç»è¿‡ä»£ç å®¡æŸ¥ï¼Œå½“å‰å®ç°**å®Œå…¨ç¬¦åˆ**æ—¥æ–‡åŸè§„åˆ™ã€‚

## å…³é”®å‘ç°

### 1. isFirstTurn æ ‡å¿—ç®¡ç†

**åˆå§‹åŒ–** (`src/game/gameLogic.ts:149`):
```typescript
isFirstTurn: true,
skipTeamAction: true,
isFirstMatchTurn: true,
```

**ä½¿ç”¨ä½ç½®** (`src/game/turnPhaseService.ts:107`):
```typescript
static shouldSkipTeamAction(state: GameState): boolean {
  if (state.isFirstTurn) {
    // æ£€æŸ¥åœºä¸Šæ˜¯å¦æœ‰ pass/press å›¾æ ‡
    // å¦‚æœæ²¡æœ‰ï¼Œè·³è¿‡å›¢é˜Ÿè¡ŒåŠ¨
    return !hasPassOrPressIcons;
  }
  return false;
}
```

### 2. æ¸¸æˆæµç¨‹å®Œå…¨ç¬¦åˆè§„åˆ™

| è§„åˆ™è¦æ±‚ | å½“å‰å®ç° | çŠ¶æ€ |
|---------|---------|------|
| å‰åŠåœºä¸»åœºå…ˆæ”» | âœ… `isHomeTeam` æ§åˆ¶ | âœ… æ­£ç¡® |
| ååŠåœºå®¢åœºå…ˆæ”» | âœ… åŠåœºåˆ‡æ¢é€»è¾‘ | âœ… æ­£ç¡® |
| å›åˆé¡ºåºï¼šå›¢é˜Ÿè¡ŒåŠ¨â†’é€‰æ‰‹è¡ŒåŠ¨ | âœ… `turnPhase` ç®¡ç† | âœ… æ­£ç¡® |
| é¦–å›åˆè·³è¿‡å›¢é˜Ÿè¡ŒåŠ¨ | âœ… `shouldSkipTeamAction()` | âœ… æ­£ç¡® |

### 3. UI æç¤ºå·²å®ç°

**OperationGuide ç»„ä»¶** (`src/components/OperationGuide.tsx`):
```typescript
if (turnPhase === 'teamAction') {
  if (isFirstTurn) {
    return {
      title: 'FIRST TURN',
      message: 'No team actions available. Place your first player!',
      icon: 'ğŸ‘¤',
      color: 'blue'
    };
  }
}
```

## å»ºè®®çš„å°ä¼˜åŒ–

è™½ç„¶åŠŸèƒ½æ­£ç¡®ï¼Œä½†å¯ä»¥è¿›ä¸€æ­¥æå‡ç”¨æˆ·ä½“éªŒï¼š

### 1. å¢å¼ºé¦–å›åˆæ¨ªå¹… â­

**å½“å‰**: ç®€å•æ–‡å­—æç¤º
**å»ºè®®**: æ·»åŠ æ›´è¯¦ç»†çš„è¯´æ˜å’ŒåŠ¨ç”»

```typescript
// åœ¨ PhaseBanner ç»„ä»¶ä¸­
if (isFirstTurn && turnPhase === 'playerAction') {
  return (
    <motion.div className="...">
      <div className="text-6xl mb-4">ğŸ¯</div>
      <h2>FIRST TURN</h2>
      <p>Team Action skipped - No players on field yet</p>
      <p className="text-sm">Place your first player to begin!</p>
    </motion.div>
  );
}
```

### 2. æ·»åŠ å›åˆæµç¨‹æŒ‡ç¤ºå™¨ â­

**æ–°ç»„ä»¶**: `TurnPhaseIndicator.tsx`

æ˜¾ç¤ºå½“å‰å›åˆè¿›åº¦ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Team Action â”‚ Player Actionâ”‚ End Turn â”‚
â”‚     â­ï¸      â”‚      â³      â”‚    â—‹     â”‚
â”‚  (Skipped)  â”‚   (Current)  â”‚ (Pending)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å®Œå–„æ¸¸æˆæ‰‹å†Œ â­

**æ›´æ–°**: `GAME_MANUAL.md`

æ·»åŠ æ—¥æ–‡è§„åˆ™çš„å®Œæ•´ç¿»è¯‘å’Œè¯´æ˜ã€‚

## æ— éœ€ä¿®æ”¹çš„éƒ¨åˆ† âœ…

ä»¥ä¸‹éƒ¨åˆ†å·²ç»æ­£ç¡®å®ç°ï¼Œæ— éœ€ä¿®æ”¹ï¼š

1. âœ… åŠåœºå…ˆæ”»é¡ºåºé€»è¾‘
2. âœ… å›åˆé˜¶æ®µè½¬æ¢é€»è¾‘
3. âœ… é¦–å›åˆè·³è¿‡å›¢é˜Ÿè¡ŒåŠ¨é€»è¾‘
4. âœ… åŸºæœ¬UIæç¤º

## ç»“è®º

**å½“å‰å®ç°çŠ¶æ€**: âœ… å®Œå…¨ç¬¦åˆæ—¥æ–‡è§„åˆ™

**ä»£ç è´¨é‡**: ä¼˜ç§€
- ä½¿ç”¨ `TurnPhaseService` ç»Ÿä¸€ç®¡ç†
- é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- å·²æœ‰å®Œå–„çš„æ³¨é‡Š

**ç”¨æˆ·ä½“éªŒ**: è‰¯å¥½
- æœ‰åŸºæœ¬çš„UIæç¤º
- è‡ªåŠ¨è·³è¿‡é¦–å›åˆå›¢é˜Ÿè¡ŒåŠ¨
- æµç¨‹ç¬¦åˆé¢„æœŸ

**å»ºè®®**: å¯é€‰çš„UIå¢å¼º
- æ›´è¯¦ç»†çš„é¦–å›åˆè¯´æ˜
- å›åˆæµç¨‹å¯è§†åŒ–
- å®Œå–„æ–‡æ¡£

---

*éªŒè¯æ—¶é—´: 2026-02-16*
*éªŒè¯äºº: Kiro AI Assistant*
*ç»“è®º: å®ç°æ­£ç¡®ï¼Œç¬¦åˆè§„åˆ™*
